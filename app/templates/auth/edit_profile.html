{% extends "base.html" %}
{% block title %}Edit Profile - {{ site_settings.get('site_name', 'Chirp') }}{% endblock %}
{% block content %}
{% from "components/icons.html" import icon %}
<div class="page-container">
    <div class="page-header">
        <a href="{{ url_for('auth.profile', username=current_user.username) }}" class="btn-icon">
            {{ icon('arrow_back') }}
        </a>
        <h2>Edit Profile</h2>
    </div>

    <form method="POST" enctype="multipart/form-data" class="settings-form">
        <input type="hidden" name="csrf_token" value="{{ csrf_token }}">

        <div class="form-field">
            <label for="display_name">Display Name</label>
            <input type="text" id="display_name" name="display_name"
                   value="{{ current_user.display_name }}" class="md-input">
        </div>

        <div class="form-field">
            <label for="bio">Bio ({{ current_user.bio|length }}/280)</label>
            <textarea id="bio" name="bio" maxlength="280" rows="3"
                      class="md-input">{{ current_user.bio }}</textarea>
        </div>

        <div class="form-field">
            <label for="location">Location</label>
            <input type="text" id="location" name="location"
                   value="{{ current_user.location }}" class="md-input">
        </div>

        <div class="form-field">
            <label for="website">Website</label>
            <input type="url" id="website" name="website"
                   value="{{ current_user.website }}" class="md-input">
        </div>

        <div class="form-field">
            <label for="profile_pic">Profile Picture</label>
            <input type="file" id="profile_pic" name="profile_pic" accept="image/*" class="md-input">
        </div>

        <div class="form-field">
            <label for="banner_pic">Banner Image</label>
            <input type="file" id="banner_pic" name="banner_pic" accept="image/*" class="md-input">
        </div>

        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
</div>
{% endblock %}
